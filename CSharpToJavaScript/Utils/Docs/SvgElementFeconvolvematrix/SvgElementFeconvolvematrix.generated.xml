<docs>
<SVGElementFeConvolveMatrix>
<summary>
The <strong><c>&amp;lt;feConvolveMatrix&amp;gt;</c></strong> <see href="https://developer.mozilla.org/en-US/docs/Web/SVG">SVG</see> filter primitive applies a matrix convolution filter effect. A convolution combines pixels in the input image with neighboring pixels to produce a resulting image. A wide variety of imaging operations can be achieved through convolutions, including blurring, edge detection, sharpening, embossing and beveling.
</summary>
<remarks>
<para>A matrix convolution is based on an n-by-m matrix (the convolution kernel) which describes how a given pixel value in the input image is combined with its neighboring pixel values to produce a resulting pixel value. Each result pixel is determined by applying the kernel matrix to the corresponding source pixel and its neighboring pixels. The basic convolution formula which is applied to each color value for a given pixel is:</para><para>COLOR&amp;lt;sub&amp;gt;X,Y&amp;lt;/sub&amp;gt; = (<br/>SUM &amp;lt;sub&amp;gt;I=0 to [&amp;lt;a href=&amp;quot;https://www.w3.org/TR/SVG11/filters.html#feConvolveMatrixElementOrderAttribute&amp;quot;&amp;gt;orderY&amp;lt;/a&amp;gt;-1]&amp;lt;/sub&amp;gt; {<br/>SUM &amp;lt;sub&amp;gt;J=0 to [&amp;lt;a href=&amp;quot;https://www.w3.org/TR/SVG11/filters.html#feConvolveMatrixElementOrderAttribute&amp;quot;&amp;gt;orderX&amp;lt;/a&amp;gt;-1]&amp;lt;/sub&amp;gt; {<br/>SOURCE &amp;lt;sub&amp;gt;X-&amp;lt;a href=&amp;quot;https://www.w3.org/TR/SVG11/filters.html#feConvolveMatrixElementTargetXAttribute&amp;quot;&amp;gt;targetX&amp;lt;/a&amp;gt;+J, Y-&amp;lt;a href=&amp;quot;https://www.w3.org/TR/SVG11/filters.html#feConvolveMatrixElementTargetYAttribute&amp;quot;&amp;gt;targetY&amp;lt;/a&amp;gt;+I&amp;lt;/sub&amp;gt; * <see href="https://www.w3.org/TR/SVG11/filters.html#feConvolveMatrixElementKernelMatrixAttribute">kernelMatrix</see>&amp;lt;sub&amp;gt;&amp;lt;a href=&amp;quot;https://www.w3.org/TR/SVG11/filters.html#feConvolveMatrixElementOrderAttribute&amp;quot;&amp;gt;orderX&amp;lt;/a&amp;gt;-J-1, &amp;lt;a href=&amp;quot;https://www.w3.org/TR/SVG11/filters.html#feConvolveMatrixElementOrderAttribute&amp;quot;&amp;gt;orderY&amp;lt;/a&amp;gt;-I-1&amp;lt;/sub&amp;gt;<br/>}<br/>}<br/>) / <see href="https://www.w3.org/TR/SVG11/filters.html#feConvolveMatrixElementDivisorAttribute">divisor</see> + <see href="https://www.w3.org/TR/SVG11/filters.html#feConvolveMatrixElementBiasAttribute">bias</see> * ALPHA&amp;lt;sub&amp;gt;X,Y&amp;lt;/sub&amp;gt;</para><para>where &amp;quot;orderX&amp;quot; and &amp;quot;orderY&amp;quot; represent the X and Y values for the <see href="https://www.w3.org/TR/SVG11/filters.html#feConvolveMatrixElementOrderAttribute">&amp;apos;order&amp;apos;</see> attribute, &amp;quot;targetX&amp;quot; represents the value of the <see href="https://www.w3.org/TR/SVG11/filters.html#feConvolveMatrixElementTargetXAttribute">&amp;apos;targetX&amp;apos;</see> attribute, &amp;quot;targetY&amp;quot; represents the value of the <see href="https://www.w3.org/TR/SVG11/filters.html#feConvolveMatrixElementTargetYAttribute">&amp;apos;targetY&amp;apos;</see> attribute, &amp;quot;kernelMatrix&amp;quot; represents the value of the <see href="https://www.w3.org/TR/SVG11/filters.html#feConvolveMatrixElementKernelMatrixAttribute">&amp;apos;kernelMatrix&amp;apos;</see> attribute, &amp;quot;divisor&amp;quot; represents the value of the <see href="https://www.w3.org/TR/SVG11/filters.html#feConvolveMatrixElementDivisorAttribute">&amp;apos;divisor&amp;apos;</see> attribute, and &amp;quot;bias&amp;quot; represents the value of the <see href="https://www.w3.org/TR/SVG11/filters.html#feConvolveMatrixElementBiasAttribute">&amp;apos;bias&amp;apos;</see> attribute.</para><para>Note in the above formulas that the values in the kernel matrix are applied such that the kernel matrix is rotated 180 degrees relative to the source and destination images in order to match convolution theory as described in many computer graphics textbooks.</para><para>To illustrate, suppose you have an input image which is 5 pixels by 5 pixels, whose color values for one of the color channels are as follows:</para><para>and you define a 3-by-3 convolution kernel as follows:</para><para>Let&amp;apos;s focus on the color value at the second row and second column of the image (source pixel value is 120). Assuming the simplest case (where the input image&amp;apos;s pixel grid aligns perfectly with the kernel&amp;apos;s pixel grid) and assuming default values for attributes <see href="https://www.w3.org/TR/SVG11/filters.html#feConvolveMatrixElementDivisorAttribute">&amp;apos;divisor&amp;apos;</see>, <see href="https://www.w3.org/TR/SVG11/filters.html#feConvolveMatrixElementTargetXAttribute">&amp;apos;targetX&amp;apos;</see> and <see href="https://www.w3.org/TR/SVG11/filters.html#feConvolveMatrixElementTargetYAttribute">&amp;apos;targetY&amp;apos;</see>, then resulting color value will be:</para>
<para>-<see href="https://developer.mozilla.org/en-US/docs/Web/API/SVGElementfilter">filter</see><br/>-<see href="https://developer.mozilla.org/en-US/docs/Web/API/SVGElementanimate">animate</see><br/>-<see href="https://developer.mozilla.org/en-US/docs/Web/API/SVGElementset">set</see><br/>-<see href="https://developer.mozilla.org/en-US/docs/Web/API/SVGElementfeBlend">feBlend</see><br/>-<see href="https://developer.mozilla.org/en-US/docs/Web/API/SVGElementfeColorMatrix">feColorMatrix</see><br/>-<see href="https://developer.mozilla.org/en-US/docs/Web/API/SVGElementfeComponentTransfer">feComponentTransfer</see><br/>-<see href="https://developer.mozilla.org/en-US/docs/Web/API/SVGElementfeComposite">feComposite</see><br/>-<see href="https://developer.mozilla.org/en-US/docs/Web/API/SVGElementfeDiffuseLighting">feDiffuseLighting</see><br/>-<see href="https://developer.mozilla.org/en-US/docs/Web/API/SVGElementfeDisplacementMap">feDisplacementMap</see><br/>-<see href="https://developer.mozilla.org/en-US/docs/Web/API/SVGElementfeFlood">feFlood</see><br/>-<see href="https://developer.mozilla.org/en-US/docs/Web/API/SVGElementfeGaussianBlur">feGaussianBlur</see><br/>-<see href="https://developer.mozilla.org/en-US/docs/Web/API/SVGElementfeImage">feImage</see><br/>-<see href="https://developer.mozilla.org/en-US/docs/Web/API/SVGElementfeMerge">feMerge</see><br/>-<see href="https://developer.mozilla.org/en-US/docs/Web/API/SVGElementfeMorphology">feMorphology</see><br/>-<see href="https://developer.mozilla.org/en-US/docs/Web/API/SVGElementfeOffset">feOffset</see><br/>-<see href="https://developer.mozilla.org/en-US/docs/Web/API/SVGElementfeSpecularLighting">feSpecularLighting</see><br/>-<see href="https://developer.mozilla.org/en-US/docs/Web/API/SVGElementfeTile">feTile</see><br/>-<see href="https://developer.mozilla.org/en-US/docs/Web/API/SVGElementfeTurbulence">feTurbulence</see><br/>-<see href="https://developer.mozilla.org/en-US/docs/Web/SVG/Tutorial/Filter_effects">SVG tutorial: Filter effects</see><br/></para>
<para><seealso href="https://developer.mozilla.org/en-US/docs/Web/SVG/Element/feConvolveMatrix"> <em>See also on MDN</em> </seealso></para>
</remarks>
</SVGElementFeConvolveMatrix>
</docs>